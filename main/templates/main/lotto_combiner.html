<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ë¡œë˜ ë²ˆí˜¸ ì¡°í•©ê¸° - ë‚˜ë§Œì˜ ë¡œë˜ ë²ˆí˜¸ ë§Œë“¤ê¸°</title>
    <style>
        /* General Body & Background Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: #ecf0f1; /* ë°ì€ íšŒìƒ‰ í…ìŠ¤íŠ¸ë¡œ ëŒ€ë¹„ */
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #2c3e50 0%, #1a252f 100%); /* í–‰ìš´ì˜ ë³„ë°¤ ëŠë‚Œì˜ ì–´ë‘ìš´ ê·¸ë¼ë°ì´ì…˜ */
            background-attachment: fixed;
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ë°©ì§€ */
            justify-content: center;
            align-items: center;
        }

        /* Container for better structure */
        .container {
            flex-grow: 1;
            width: 100%;
            max-width: 1000px;
            margin: 20px auto;
            background-color: rgba(34, 49, 63, 0.9); /* ì–´ë‘ìš´ ë°˜íˆ¬ëª… ë°°ê²½ */
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); /* ê·¸ë¦¼ì ê°•í™” */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        /* Navigation Bar - ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
        .navbar {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
        }

        .navbar a {
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 1em;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .navbar a:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        /* Header / Title */
        h1 {
            color: #f1c40f;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .description {
            font-size: 1.1em;
            color: #bdc3c7;
            margin-bottom: 30px;
        }

        /* Number Selection Grid */
        .number-selection-grid {
            display: grid;
            grid-template-columns: repeat(9, 1fr); /* 1ë¶€í„° 45ê¹Œì§€ 5ì¤„ (9ê°œì”©) */
            gap: 8px;
            width: 100%;
            max-width: 600px; /* ê·¸ë¦¬ë“œ ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            margin: 30px auto;
            padding: 20px;
            background: rgba(52, 73, 94, 0.8);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .number-selection-grid .ball {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px; /* ë³¼ í¬ê¸° */
            height: 45px;
            border-radius: 50%;
            background-color: #34495e; /* ê¸°ë³¸ ë³¼ ìƒ‰ìƒ */
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* ë³¼ í˜¸ë²„ íš¨ê³¼ */
        .number-selection-grid .ball:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        /* ì„ íƒëœ ë³¼ ìƒ‰ìƒ */
        .number-selection-grid .ball.selected {
            border: 3px solid #f1c40f; /* ì„ íƒëœ ë³¼ í…Œë‘ë¦¬ */
            transform: scale(1.05); /* ì•½ê°„ ì»¤ì§€ê²Œ */
        }

        /* Lotto Ball Colors (ì„ íƒëœ ë³¼ì— ì ìš©ë  ìƒ‰ìƒ) */
        .number-selection-grid .ball.selected.color-1-10, #combined-lotto-balls .ball.color-1-10 { background-color: #f39c12; }
        .number-selection-grid .ball.selected.color-11-20, #combined-lotto-balls .ball.color-11-20 { background-color: #3498db; }
        .number-selection-grid .ball.selected.color-21-30, #combined-lotto-balls .ball.color-21-30 { background-color: #e74c3c; }
        .number-selection-grid .ball.selected.color-31-40, #combined-lotto-balls .ball.color-31-40 { background-color: #95a5a6; }
        .number-selection-grid .ball.selected.color-41-45, #combined-lotto-balls .ball.color-41-45 { background-color: #27ae60; }


        /* Combined Lotto Balls Display */
        #combined-lotto-balls {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            min-height: 80px; /* ìµœì†Œ ë†’ì´ ì„¤ì • */
            margin-top: 30px;
            padding: 20px;
            background: rgba(44, 62, 80, 0.8);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            width: 100%;
            box-sizing: border-box;
        }

        #combined-lotto-balls .ball {
            width: 55px;
            height: 55px;
            line-height: 55px;
            font-size: 1.8em;
            font-weight: bold;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 3px 8px rgba(0, 0, 0, 0.3);
            flex-shrink: 0;
            animation: bounceIn 0.6s ease-out; /* ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ */
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        /* Buttons */
        .button-group {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .button-group button {
            padding: 12px 25px;
            font-size: 1.1em;
            background-color: #f1c40f; /* ì£¼í™©ìƒ‰ ê³„ì—´ */
            color: #2c3e50; /* ì–´ë‘ìš´ ê¸€ì”¨ìƒ‰ */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .button-group button:hover {
            background-color: #e6b200; /* ì–´ë‘¡ê²Œ */
            transform: translateY(-2px);
        }

        .button-group button.reset-button {
            background-color: #e74c3c; /* ë¹¨ê°„ìƒ‰ */
            color: white;
        }

        .button-group button.reset-button:hover {
            background-color: #c0392b;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container { padding: 20px; }
            .navbar button { margin: 5px; font-size: 0.9em; } /* ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ í¬ê¸° ì¡°ì ˆ */
            h1 { font-size: 2em; }
            .description { font-size: 1em; }
            .number-selection-grid { grid-template-columns: repeat(7, 1fr); max-width: 450px; } /* íƒœë¸”ë¦¿ì—ì„œ ì»¬ëŸ¼ ìˆ˜ ì¡°ì ˆ */
            .number-selection-grid .ball { width: 40px; height: 40px; font-size: 1em; }
            #combined-lotto-balls .ball { width: 45px; height: 45px; font-size: 1.5em; }
            .button-group button { padding: 10px 20px; font-size: 1em; }
        }
        @media (max-width: 480px) {
            .container { padding: 15px; }
            .navbar button { padding: 8px 15px; } /* ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ í¬ê¸° ì¡°ì ˆ */
            h1 { font-size: 1.8em; }
            .description { font-size: 0.9em; }
            .number-selection-grid { grid-template-columns: repeat(6, 1fr); max-width: 320px; } /* ëª¨ë°”ì¼ì—ì„œ ì»¬ëŸ¼ ìˆ˜ ì¡°ì ˆ */
            .number-selection-grid .ball { width: 35px; height: 35px; font-size: 0.9em; }
            #combined-lotto-balls .ball { width: 40px; height: 40px; font-size: 1.3em; }
            .button-group { flex-direction: column; } /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ ì„¸ë¡œ ì •ë ¬ */
            .button-group button { width: 80%; }
        }
    </style>
</head>

<body>
    <div class="container">
         <div class="navbar">
        
        <a href="{% url 'lotto_predict' %}">âœ¨ Generate Lottery Numbers</a>

        <a href="{% url 'fortune_check' %}" >ğŸ‚ Today's Financial Fortune</a>
        <a href="{% url 'lotto_history' %}" >ğŸ“œ Lottery History</a>
        <a href="{% url 'lotto_combiner' %}" >â• Lottery Number Combiner</a>
    </div>
        <h1>My Own Lotto Number Combiner  âœ¨</h1>
        <p class="description">
            Select **up to 5** lucky numbers, and the rest will be filled automatically to create your personalized lotto combination!
        </p>

        <h3>1. Number Selection</h3>
        <div class="number-selection-grid" id="number-selection-grid">
            </div>

        <div class="button-group">
            <button onclick="generateCombinedLotto()">ğŸ¯ Combine Lotto Numbers</button>
            <button class="reset-button" onclick="resetSelection()">ğŸ”„ Reset Selection</button>
        </div>

        <h3>2. Combined Lotto Numbers</h3>
        <div id="combined-lotto-balls">
            </div>
    </div>

    <script>
        // ë¡œë˜ ë³¼ ìƒ‰ìƒ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
        function getBallColorClass(num) {
            if (num >= 1 && num <= 10) return 'color-1-10';
            else if (num >= 11 && num <= 20) return 'color-11-20';
            else if (num >= 21 && num <= 30) return 'color-21-30';
            else if (num >= 31 && num <= 40) return 'color-31-40';
            else if (num >= 41 && num <= 45) return 'color-41-45';
            return '';
        }

        let selectedNumbers = new Set(); // ì‚¬ìš©ìê°€ ì„ íƒí•œ ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ëŠ” Set

        // 1ë¶€í„° 45ê¹Œì§€ ìˆ«ì ë³¼ ê·¸ë¦¬ë“œ ìƒì„±
        function createNumberSelectionGrid() {
            const grid = document.getElementById('number-selection-grid');
            grid.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™”

            for (let i = 1; i <= 45; i++) {
                const ball = document.createElement('div');
                ball.className = `ball ${getBallColorClass(i)}`; // ìƒ‰ìƒ í´ë˜ìŠ¤ ê¸°ë³¸ ì ìš©
                ball.textContent = i;
                ball.dataset.number = i; // ë²ˆí˜¸ ë°ì´í„°ë¥¼ ì €ì¥ (ë‚˜ì¤‘ì— ì‚¬ìš©)
                
                // í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€: ë³¼ì„ í´ë¦­í•˜ë©´ ì„ íƒ/í•´ì œ í† ê¸€
                ball.addEventListener('click', () => toggleNumberSelection(ball, i));
                grid.appendChild(ball);
            }
        }

        // ìˆ«ì ë³¼ ì„ íƒ/ì„ íƒ í•´ì œ ê¸°ëŠ¥
        function toggleNumberSelection(ballElement, number) {
            if (selectedNumbers.has(number)) {
                // ì´ë¯¸ ì„ íƒëœ ë²ˆí˜¸ë©´ ì„ íƒ í•´ì œ
                selectedNumbers.delete(number);
                ballElement.classList.remove('selected');
            } else {
                // ì„ íƒë˜ì§€ ì•Šì€ ë²ˆí˜¸ë©´ ì„ íƒ
                if (selectedNumbers.size < 5) { // ìµœëŒ€ 5ê°œê¹Œì§€ë§Œ ì„ íƒ ê°€ëŠ¥
                    selectedNumbers.add(number);
                    ballElement.classList.add('selected');
                } else {
                    alert('ìµœëŒ€ 5ê°œì˜ ë²ˆí˜¸ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                }
            }
            console.log('í˜„ì¬ ì„ íƒëœ ë²ˆí˜¸:', Array.from(selectedNumbers));
        }

        // ë¡œë˜ ë²ˆí˜¸ ì¡°í•© ë° ê²°ê³¼ í‘œì‹œ
        function generateCombinedLotto() {
            const lottoContainer = document.getElementById('combined-lotto-balls');
            lottoContainer.innerHTML = ''; // ê¸°ì¡´ ë²ˆí˜¸ ì´ˆê¸°í™”

            let finalLottoNumbers = new Set(selectedNumbers); // ì‚¬ìš©ìê°€ ì„ íƒí•œ ë²ˆí˜¸ë¡œ ì‹œì‘

            // ì„ íƒëœ ë²ˆí˜¸ê°€ 6ê°œ ë¯¸ë§Œì´ë©´ ëœë¤ ë²ˆí˜¸ ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)
            while (finalLottoNumbers.size < 6) {
                const randomNumber = Math.floor(Math.random() * 45) + 1;
                finalLottoNumbers.add(randomNumber); // Setì€ ì¤‘ë³µì„ ìë™ìœ¼ë¡œ ê±¸ëŸ¬ì¤Œ
            }

            // Setì„ ë°°ì—´ë¡œ ë³€í™˜í•˜ê³  ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
            const sortedLottoNumbers = Array.from(finalLottoNumbers).sort((a, b) => a - b);

            // ê²°ê³¼ê°€ ì—†ì„ ê²½ìš° (ì„ íƒëœ ë²ˆí˜¸ë„ ì—†ê³ , ëœë¤ë„ ëª» ë½‘ì€ ê²½ìš° - ë°œìƒí•˜ê¸° ì–´ë ¤ì›€)
            if (sortedLottoNumbers.length === 0) {
                lottoContainer.innerHTML = '<p style="color: #bdc3c7; font-size: 1.1em;">ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜, "ë¡œë˜ ë²ˆí˜¸ ì¡°í•©í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”!</p>';
                return;
            }

            // ì¡°í•©ëœ ë²ˆí˜¸ë“¤ì„ í™”ë©´ì— í‘œì‹œ
            sortedLottoNumbers.forEach(num => {
                const ball = document.createElement('div');
                ball.className = `ball ${getBallColorClass(num)}`;
                ball.textContent = num;
                lottoContainer.appendChild(ball);
            });
        }

        // ì„ íƒ ì´ˆê¸°í™” ê¸°ëŠ¥
        function resetSelection() {
            selectedNumbers.clear(); // ì„ íƒëœ ë²ˆí˜¸ ëª¨ë‘ ì œê±°
            const selectedBalls = document.querySelectorAll('.number-selection-grid .ball.selected');
            selectedBalls.forEach(ball => {
                ball.classList.remove('selected'); // 'selected' í´ë˜ìŠ¤ ì œê±°
            });
            document.getElementById('combined-lotto-balls').innerHTML = 
                '<p style="color: #bdc3c7; font-size: 1.1em;">ì›í•˜ëŠ” ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜, ë°”ë¡œ "ë¡œë˜ ë²ˆí˜¸ ì¡°í•©í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³´ì„¸ìš”!</p>'; // ê²°ê³¼ì°½ ì´ˆê¸°í™”
            console.log('ì„ íƒ ì´ˆê¸°í™”ë¨');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.onload = function() {
            createNumberSelectionGrid(); // 1ë¶€í„° 45ê¹Œì§€ ìˆ«ì ì„ íƒ ê·¸ë¦¬ë“œ ìƒì„±
            // ì´ˆê¸° ë¡œë”© ì‹œ ì¡°í•©ëœ ë²ˆí˜¸ ëŒ€ì‹  ì•ˆë‚´ ë¬¸êµ¬ í‘œì‹œ
            document.getElementById('combined-lotto-balls').innerHTML = 
                '<p style="color: #bdc3c7; font-size: 1.1em;">ì›í•˜ëŠ” ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜, ë°”ë¡œ "ë¡œë˜ ë²ˆí˜¸ ì¡°í•©í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³´ì„¸ìš”!</p>';
        };
    </script>
</body>
</html>