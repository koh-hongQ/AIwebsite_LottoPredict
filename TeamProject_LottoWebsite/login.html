<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ì¶”ì²œ website</title>
    <style>
      body {
        font-family: 'Arial', sans-serif;
        background-color: #f0f8ff;
        margin: 0;
        padding: 0;
      }

      /* ë¡œê·¸ì¸ í™”ë©´ ìŠ¤íƒ€ì¼ */
      .login-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .login-box {
        background: white;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        width: 100%;
        max-width: 400px;
        text-align: center;
      }

      .login-box h2 {
        color: #333;
        margin-bottom: 2rem;
      }

      .login-box input {
        width: 100%;
        padding: 1rem;
        margin-bottom: 1rem;
        border: 1px solid #ddd;
        border-radius: 0.5rem;
        font-size: 1rem;
        box-sizing: border-box;
      }

      .login-box button {
        width: 100%;
        padding: 1rem;
        background-color: #667eea;
        color: white;
        border: none;
        border-radius: 0.5rem;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .login-box button:hover {
        background-color: #5a6fd8;
      }

      .login-info {
        font-size: 0.9rem;
        color: #666;
        margin-top: 1rem;
        line-height: 1.4;
      }

      /* ë©”ì¸ í™”ë©´ ìŠ¤íƒ€ì¼ */
      .main-content {
        display: none;
        padding: 2rem;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: white;
        padding: 1rem 2rem;
        border-radius: 1rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
      }

      .welcome-text {
        font-size: 1.2rem;
        color: #333;
      }

      .logout-btn {
        padding: 0.5rem 1rem;
        background-color: #e74c3c;
        color: white;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .logout-btn:hover {
        background-color: #c0392b;
      }

      .title-image {
        width: 600px;
        height: auto;
        display: block;
        margin: 0 auto;
        max-width: 100%;
      }

      .lotto-wrapper {
        background-color: #f5f5f5;
        padding: 50px 20px;
        margin: 30px 0;
        border: 1px solid #ccc;
        border-radius: 10px;
      }

      .lotto-wrapper h1 {
        font-size: 28px;
        color: #222;
        margin-bottom: 30px;
        text-align: center;
      }

      .header-row {
        display: flex;
        align-items: center;
        gap: 20px;
        justify-content: center;
      }

      .header-row img {
        width: 40px;
        height: 40px;
      }

      .header-row h2 {
        font-size: 20px;
        margin: 0;
        color: #333;
      }

      .lotto-container {
        display: flex;
        gap: 15px;
        margin-left: 20px;
      }

      .ball {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
        color: white;
        box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);
      }

      .yellow { background-color: #fbc02d; }
      .blue   { background-color: #039be5; }
      .red    { background-color: #e53935; }
      .gray   { background-color: #757575; }
      .green  { background-color: #43a047; }

      .fortune-section {
        background: white;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        max-width: 400px;
        margin: 2rem auto;
      }

      .fortune-section h2 {
        color: #333;
        text-align: center;
      }

      .fortune-section input[type="date"] {
        padding: 0.5rem;
        font-size: 1rem;
        margin-right: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 0.5rem;
      }

      .fortune-section button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
      }

      #fortune-result {
        margin-top: 1rem;
        font-size: 1.2rem;
        padding: 1rem;
        background-color: #fff8dc;
        border-left: 5px solid gold;
        border-radius: 0.5rem;
      }

      /* íˆìŠ¤í† ë¦¬ ì„¹ì…˜ */
      .history-section {
        background: white;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        margin: 2rem 0;
      }

      .history-section h2 {
        color: #333;
        text-align: center;
        margin-bottom: 1rem;
      }

      .clear-history-btn {
        padding: 0.5rem 1rem;
        background-color: #f39c12;
        color: white;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
        margin-bottom: 1rem;
      }

      .history-item {
        background: #f8f9fa;
        padding: 1rem;
        margin-bottom: 0.5rem;
        border-radius: 0.5rem;
        border-left: 4px solid #667eea;
      }

      .history-numbers {
        display: flex;
        gap: 10px;
        margin: 0.5rem 0;
        flex-wrap: wrap;
      }

      .history-ball {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: bold;
        color: white;
      }

      .scroll-box {
        height: 400px;
        overflow-y: scroll;
        border: 1px solid #ccc;
        padding: 10px;
        background: #f9f9f9;
        border-radius: 0.5rem;
      }

      .lotto-card {
        padding: 10px;
        margin-bottom: 15px;
        border-bottom: 1px solid #ddd;
        background: white;
        border-radius: 8px;
      }

      .lotto-card h3 {
        margin-bottom: 5px;
      }

      .numbers span {
        display: inline-block;
        width: 30px;
        height: 30px;
        line-height: 30px;
        border-radius: 50%;
        text-align: center;
        margin-right: 5px;
        font-weight: bold;
        color: white;
      }

      .c1 { background-color: #f94144; }
      .c2 { background-color: #f3722c; }
      .c3 { background-color: #f9c74f; color: black; }
      .c4 { background-color: #90be6d; }
      .c5 { background-color: #43aa8b; }
      .c6 { background-color: #577590; }
      .c7 { background-color: #277da1; }

      @media (max-width: 600px) {
        .lotto-container {
          flex-wrap: wrap;
          justify-content: center;
        }
        .ball {
          width: 45px;
          height: 45px;
          font-size: 18px;
        }
        .title-image {
          width: 100%;
          height: auto;
        }
        .header {
          flex-direction: column;
          gap: 1rem;
        }
        .history-numbers {
          justify-content: center;
        }
      }

      .hidden {
        display: none;
      }
    </style>
</head>

<body>
  <!-- ë¡œê·¸ì¸ í™”ë©´ -->
  <div id="login-screen" class="login-container">
    <div class="login-box">
      <h2>AI Lotto Predict Website</h2>
      <input type="text" id="username" placeholder="Enter your ID" required>
      <button onclick="login()">Login</button>
      <div class="login-info">
        Enter your ID<br>
        Individual history is managed for each user.
      </div>
    </div>
  </div>

  <!-- ë©”ì¸ í™”ë©´ -->
  <div id="main-screen" class="main-content">
    <div class="header">
      <h1 id="welcome" class="welcome-text">Welcome!</h1>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <img src="https://blog.kakaocdn.net/dn/mWAxU/btqDpfejsMm/Ysp2b30tARwjbatmFm3kWK/img.jpg" class="title-image">

    <!-- GPT ë¡œë˜ ì¶”ì²œ ì„¹ì…˜ -->
    <div class="lotto-wrapper">
      <h1 id="round-title">0000íšŒì°¨ì˜ ì˜ˆìƒ ë¡œë˜ ë²ˆí˜¸</h1>
      <div class="header-row">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/ChatGPT_logo.svg" alt="GPT ë¡œê³ ">
        <h2>GPTì˜ ë¡œë˜ ì¶”ì²œ</h2>
        <div class="lotto-container">
          <div class="ball yellow">7</div>
          <div class="ball blue">14</div>
          <div class="ball red">23</div>
          <div class="ball gray">31</div>
          <div class="ball green">42</div>
          <div class="ball yellow">45</div>
        </div>
        <button onclick="generateNewNumbers()" style="margin-left: 20px; padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">ìƒˆ ë²ˆí˜¸ ìƒì„±</button>
      </div>
    </div>

    <!-- ë‚´ ë²ˆí˜¸ íˆìŠ¤í† ë¦¬ -->
    <div class="history-section">
      <h2>Number History</h2>
      <button class="clear-history-btn" onclick="clearHistory()">Reset</button>
      <div id="history-container">
        <p style="text-align: center; color: #666;">There is no generated number yet.</p>
      </div>
    </div>

    <!-- ìš´ì„¸ ì„¹ì…˜ -->
    <div class="fortune-section">
      <h2>ğŸ‚ ìƒì¼ë¡œ ë³´ëŠ” ì˜¤ëŠ˜ì˜ ê¸ˆì „ìš´</h2>
      <input type="date" id="birthdate" />
      <button onclick="checkFortune()">ìš´ì„¸ ë³´ê¸°</button>
      <div id="fortune-result"></div>
    </div>

    <!-- ê³¼ê±° ë‹¹ì²¨ë²ˆí˜¸ -->
    <div style="background: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin: 2rem 0;">
      <h2 style="text-align: center; color: #333;">ğŸ† ê³¼ê±° ë‹¹ì²¨ë²ˆí˜¸</h2>
      <div class="scroll-box">
        <!-- 1173íšŒ -->
        <div class="lotto-card">
          <h3>1173íšŒ</h3>
          <p class="numbers">
            <span class="c1">1</span>
            <span class="c2">5</span>
            <span class="c3">18</span>
            <span class="c4">20</span>
            <span class="c5">30</span>
            <span class="c6">35</span>
            <span class="c7">3</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,318,705,512ì›</p>
        </div>

        <!-- 1172íšŒ -->
        <div class="lotto-card">
          <h3>1172íšŒ</h3>
          <p class="numbers">
            <span class="c1">7</span>
            <span class="c2">9</span>
            <span class="c3">24</span>
            <span class="c4">40</span>
            <span class="c5">42</span>
            <span class="c6">44</span>
            <span class="c7">45</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,639,057,876ì›</p>
        </div>

        <!-- 1171íšŒ -->
        <div class="lotto-card">
          <h3>1171íšŒ</h3>
          <p class="numbers">
            <span class="c1">3</span>
            <span class="c2">6</span>
            <span class="c3">7</span>
            <span class="c4">11</span>
            <span class="c5">12</span>
            <span class="c6">17</span>
            <span class="c7">19</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 23,695,251,006ì›</p>
        </div>

        <!-- 1170íšŒ -->
        <div class="lotto-card">
          <h3>1170íšŒ</h3>
          <p class="numbers">
            <span class="c1">3</span>
            <span class="c2">13</span>
            <span class="c3">28</span>
            <span class="c4">34</span>
            <span class="c5">38</span>
            <span class="c6">42</span>
            <span class="c7">25</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 27,731,019,380ì›</p>
        </div>

        <!-- 1169íšŒ -->
        <div class="lotto-card">
          <h3>1169íšŒ</h3>
          <p class="numbers">
            <span class="c1">5</span>
            <span class="c2">12</span>
            <span class="c3">24</span>
            <span class="c4">26</span>
            <span class="c5">39</span>
            <span class="c6">42</span>
            <span class="c7">20</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,527,358,130ì›</p>
        </div>

        <!-- 1168íšŒ -->
        <div class="lotto-card">
          <h3>1168íšŒ</h3>
          <p class="numbers">
            <span class="c1">9</span>
            <span class="c2">21</span>
            <span class="c3">24</span>
            <span class="c4">30</span>
            <span class="c5">33</span>
            <span class="c6">37</span>
            <span class="c7">29</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 27,776,266,882ì›</p>
        </div>

        <!-- 1167íšŒ -->
        <div class="lotto-card">
          <h3>1167íšŒ</h3>
          <p class="numbers">
            <span class="c1">8</span>
            <span class="c2">23</span>
            <span class="c3">31</span>
            <span class="c4">35</span>
            <span class="c5">39</span>
            <span class="c6">40</span>
            <span class="c7">24</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,840,879,130ì›</p>
        </div>

        <div class="lotto-card">
          <h3>1166íšŒ</h3>
          <p class="numbers">
            <span class="c1">14</span>
            <span class="c2">23</span>
            <span class="c3">25</span>
            <span class="c4">27</span>
            <span class="c5">29</span>
            <span class="c6">42</span>
            <span class="c7">16</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 29,012,479,132ì›</p>
        </div>

        <div class="lotto-card">
          <h3>1165íšŒ</h3>
          <p class="numbers">
            <span class="c1">6</span>
            <span class="c2">7</span>
            <span class="c3">27</span>
            <span class="c4">29</span>
            <span class="c5">38</span>
            <span class="c6">45</span>
            <span class="c7">17</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,502,308,510ì›</p>
        </div>

        <div class="lotto-card">
          <h3>1164íšŒ</h3>
          <p class="numbers">
            <span class="c1">17</span>
            <span class="c2">18</span>
            <span class="c3">23</span>
            <span class="c4">25</span>
            <span class="c5">38</span>
            <span class="c6">39</span>
            <span class="c7">22</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 28,510,198,132ì›</p>
        </div>

        <div class="lotto-card">
          <h3>1163íšŒ</h3>
          <p class="numbers">
            <span class="c1">2</span>
            <span class="c2">13</span>
            <span class="c3">15</span>
            <span class="c4">16</span>
            <span class="c5">33</span>
            <span class="c6">43</span>
            <span class="c7">4</span>
          </p>
          <p>1ë“± ì´ ìƒê¸ˆ: 29,053,367,250ì›</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ë¡œê·¸ì¸ ê´€ë ¨ í•¨ìˆ˜ë“¤
    function login() {
      const username = document.getElementById('username').value.trim();

      if (!username) {
        alert('Enter your ID');
        return;
      }

      if (username.length < 2) {
        alert('Please enter at least 2 characters for the user name.');
        return;
      }

      // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ë¡œê·¸ì¸ ì •ë³´ ì €ì¥
      sessionStorage.setItem('loggedInUser', username);
      showMainScreen();
    }

    function logout() {
      sessionStorage.removeItem('loggedInUser');
      document.getElementById('login-screen').style.display = 'flex';
      document.getElementById('main-screen').style.display = 'none';
      document.getElementById('username').value = '';
    }

    function showMainScreen() {
      const user = sessionStorage.getItem('loggedInUser');
      if (user) {
        document.getElementById('welcome').textContent = `Welcome, ${user}!`;
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-screen').style.display = 'block';
        initializeMain();
      }
    }

    // ë¡œë˜ ê´€ë ¨ í•¨ìˆ˜ë“¤
    function calculateRound() {
      const baseRound = 1172;
      const baseDate = new Date("2025-05-17T20:30:00");
      const now = new Date();

      const diffMs = now - baseDate;
      const weekMs = 7 * 24 * 60 * 60 * 1000;
      const fullWeeksPassed = Math.floor(diffMs / weekMs);

      const nextDrawTime = new Date(baseDate.getTime() + fullWeeksPassed * weekMs + 30 * 60 * 1000);

      return baseRound + (now >= nextDrawTime ? fullWeeksPassed + 1 : fullWeeksPassed);
    }

    function generateLottoNumbers() {
      const numbers = [];
      while (numbers.length < 6) {
        const num = Math.floor(Math.random() * 45) + 1;
        if (!numbers.includes(num)) {
          numbers.push(num);
        }
      }
      return numbers.sort((a, b) => a - b);
    }

    function getBallColor(num) {
      if (num <= 10) return 'yellow';
      else if (num <= 20) return 'blue';
      else if (num <= 30) return 'red';
      else if (num <= 40) return 'gray';
      else return 'green';
    }

    function displayLottoNumbers(numbers) {
      const balls = document.querySelectorAll('.lotto-container .ball');
      
      for (let i = 0; i < balls.length && i < numbers.length; i++) {
        balls[i].textContent = numbers[i];
        balls[i].className = 'ball ' + getBallColor(numbers[i]);
      }
    }

    function generateNewNumbers() {
      const numbers = generateLottoNumbers();
      displayLottoNumbers(numbers);
      addToHistory(numbers);
    }

    function addToHistory(numbers) {
      const history = getHistory();
      const now = new Date();
      const timeString = now.toLocaleString('ko-KR');
      
      history.unshift({
        numbers: numbers,
        timestamp: timeString,
        round: calculateRound()
      });

      // ìµœëŒ€ 10ê°œê¹Œì§€ë§Œ ì €ì¥
      if (history.length > 10) {
        history.splice(10);
      }

      saveHistory(history);
      displayHistory();
    }

    function getHistory() {
      const currentUser = sessionStorage.getItem('loggedInUser');
      if (!currentUser) return [];
      
      const historyKey = `lottoHistory_${currentUser}`;
      const historyData = sessionStorage.getItem(historyKey);
      return historyData ? JSON.parse(historyData) : [];
    }

    function saveHistory(history) {
      const currentUser = sessionStorage.getItem('loggedInUser');
      if (!currentUser) return;
      
      const historyKey = `lottoHistory_${currentUser}`;
      sessionStorage.setItem(historyKey, JSON.stringify(history));
    }

    function displayHistory() {
      const history = getHistory();
      const container = document.getElementById('history-container');

      if (history.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #666;">ì•„ì§ ìƒì„±ëœ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
        return;
      }

      let html = '';
      history.forEach((item, index) => {
        html += `
          <div class="history-item">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
              <strong>ì¶”ì²œ ë²ˆí˜¸ #${index + 1}</strong>
              <small style="color: #666;">${item.timestamp}</small>
            </div>
            <div class="history-numbers">
              ${item.numbers.map(num => 
                `<div class="history-ball ${getBallColor(num)}">${num}</div>`
              ).join('')}
            </div>
            <small style="color: #888;">ì˜ˆìƒ íšŒì°¨: ${item.round}íšŒ</small>
          </div>
        `;
      });

      container.innerHTML = html;
    }

    function clearHistory() {
      if (confirm('Are you sure you want to delete all the history?')) {
        const currentUser = sessionStorage.getItem('loggedInUser');
        if (currentUser) {
          const historyKey = `lottoHistory_${currentUser}`;
          sessionStorage.removeItem(historyKey);
          displayHistory();
        }
      }
    }

    // ìš´ì„¸ ê´€ë ¨ í•¨ìˆ˜
    function checkFortune() {
      const birth = document.getElementById("birthdate").value;
      const resultBox = document.getElementById("fortune-result");

      if (!birth) {
        resultBox.innerText = "ìƒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”!";
        return;
      }

      const birthDate = new Date(birth);
      const today = new Date();
      const luckyNumber = (birthDate.getDate() + today.getDate()) % 10;
      
      const fortunes = [
        "ì˜¤ëŠ˜ì€ í° í–‰ìš´ì´ ì°¾ì•„ì˜¬ ë‚ ì…ë‹ˆë‹¤! ë¡œë˜ êµ¬ë§¤ë¥¼ ì¶”ì²œí•´ìš”! ğŸ€",
        "ê¸ˆì „ìš´ì´ ìƒìŠ¹í•˜ê³  ìˆì–´ìš”. íˆ¬ìì— ì¢‹ì€ ê¸°íšŒê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ’°",
        "í‰ë²”í•œ í•˜ë£¨ì§€ë§Œ ì‘ì€ í–‰ìš´ì´ ìˆ¨ì–´ìˆì„ ê±°ì˜ˆìš”. ğŸ˜Š",
        "ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ í–‰ë™í•˜ì„¸ìš”. í° ì§€ì¶œì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ê² ì–´ìš”. ğŸ¤”",
        "ì¹œêµ¬ë‚˜ ê°€ì¡±ê³¼ì˜ ëª¨ì„ì—ì„œ ì¢‹ì€ ì†Œì‹ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”! ğŸ‰",
        "ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤. ëˆˆê³¼ ê·€ë¥¼ ì—´ì–´ë‘ì„¸ìš”! ğŸ‘€",
        "ê¸ˆì „ì ìœ¼ë¡œ ì•ˆì •ëœ í•˜ë£¨ê°€ ë  ê²ƒ ê°™ì•„ìš”. ğŸ’",
        "ì˜ˆìƒì¹˜ ëª»í•œ ìˆ˜ì…ì´ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë‚ ì´ì—ìš”! ğŸ",
        "ë¡œë˜ë³´ë‹¤ëŠ” ì €ì¶•ì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ì¢‹ê² ì–´ìš”. ğŸ¦",
        "ëŒ€ë°•ì€ ì•„ë‹ˆì§€ë§Œ ì†Œì†Œí•œ í–‰ìš´ì´ í•¨ê»˜í•  ê±°ì˜ˆìš”! âœ¨"
      ];

      resultBox.innerText = fortunes[luckyNumber];
    }

    function initializeMain() {
      const round = calculateRound();
      document.getElementById("round-title").textContent = `${round}íšŒì°¨ì˜ ì˜ˆìƒ ë¡œë˜ ë²ˆí˜¸`;
      
      // ì´ˆê¸° ë¡œë˜ ë²ˆí˜¸ í‘œì‹œ
      const initialNumbers = generateLottoNumbers();
      displayLottoNumbers(initialNumbers);
      
      displayHistory();
    }

    window.onload = function() {
      const user = sessionStorage.getItem('loggedInUser');
      if (user) {
        showMainScreen();
      } else {
        document.getElementById('login-screen').style.display = 'flex';
        document.getElementById('main-screen').style.display = 'none';
      }
    };
    document.addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && document.getElementById('login-screen').style.display !== 'none') {
        login();
      }
    });
  </script>
</body>
</html>
